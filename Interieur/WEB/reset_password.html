<!DOCTYPE html>
<html lang="fr">

<head>
    <meta charset="UTF-8">
    <title>Réinitialiser le mot de passe</title>
    <link href="css/reset_password.css" rel="stylesheet">
</head>

<body>
    <div class="container">
        <form method="post">
            <div class="logo-container" style="text-align: center; margin-bottom: 1rem;">
                <img alt="Logo Campus" src="icons/campus.png" style="max-width: 120px; height: auto;">
            </div>
            <h1>Réinitialiser le mot de passe</h1>
            {% if message %}
            <div style="color:green;">{{ message }}</div>
            {% endif %} {% if error %}
            <div style="color:red;">{{ error }}</div>
            {% endif %} {% if not message %}
            <input type="hidden" name="token" value="{{ token }}">
            <label for="new_password">Nouveau mot de passe :</label>
            <input type="password" id="new_password" name="new_password" required>

            <label for="confirm_password">Répétez le mot de passe :</label>
            <input type="password" id="confirm_password" name="confirm_password" required>
            <div id="password-match-message" style="color:#e53935; font-size:14px; margin-bottom:8px;"></div>

            <!-- Barre de force du mot de passe -->
            <div class="password-strength-bar">
                <div class="password-strength-bar-inner" id="password-strength-bar-inner"></div>
            </div>
            <div class="password-strength-text" id="password-strength-text"></div>

            <button type="submit">Changer le mot de passe</button> {% endif %}
            <p style="text-align:center; margin-top:2em;">
                <a href="/login">Retour à la connexion</a>
            </p>
        </form>
    </div>
    <script src="js/reset_password.js" type="module"></script>
</body>

</html>